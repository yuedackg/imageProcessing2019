(window._ambjs=window._ambjs||[]).push([[1],{1119:function(e,t,i){"use strict";i.d(t,"a",function(){return f});var n=i(15),a=i(17),s=i(16),r=i(52),o=i(13),c=i(18),d=i(5),l=i.n(d),p=i(1),g=i.n(p),u=i(227),h=i.n(u),I=i(71),v=i.n(I),b=i(1102),f=function(e){function t(e){var i;return Object(n.a)(this,t),(i=Object(a.a)(this,Object(s.a)(t).call(this,e))).handleClick=i.handleClick.bind(Object(r.a)(i)),i.handleInview=i.handleInview.bind(Object(r.a)(i)),i.startListen=i.startListen.bind(Object(r.a)(i)),i.stopListen=i.stopListen.bind(Object(r.a)(i)),i.inviewTracked=!1,i.tapTracked=!1,i}return Object(c.a)(t,e),Object(o.a)(t,null,[{key:"defaultProps",get:function(){return{activate:["tap"],bloggerAmebaId:"",categories:[],categoryId:"",children:null,contentId:"",disable:!1,displayPosition:"",entryId:"",orderId:"",pageId:"",sectionId:"",serviceId:"",tagName:"",tapLogger:v.a,viewLogger:v.a}}}]),Object(o.a)(t,[{key:"componentDidMount",value:function(){this.startListen()}},{key:"componentDidUpdate",value:function(){this.startListen()}},{key:"componentWillUnmount",value:function(){this.stopListen()}},{key:"startListen",value:function(){var e=this;-1===this.props.activate.indexOf("view")||this.inviewTracked||(t.intersectionListener||(t.intersectionListener=Object(b.a)({})),this.stopListen(),this.trigger=h.a.findDOMNode(this),this.trigger&&!this.unlisten&&(this.unlisten=t.intersectionListener.listen(this.trigger,function(t){(t.isIntersecting||t.intersectionRatio>0)&&(e.stopListen(),e.handleInview())})))}},{key:"stopListen",value:function(){this.unlisten&&(this.unlisten(),this.unlisten=null)}},{key:"handleClick",value:function(e){var t=l.a.Children.only(this.props.children).props.onClick;t&&t(e),this.props.tapLogger(this.params)}},{key:"handleInview",value:function(){this.inviewTracked=!0,this.props.viewLogger(this.params)}},{key:"render",value:function(){if(this.props.disable)return this.props.children;var e=this.props.children;return-1!==this.props.activate.indexOf("tap")&&(e=l.a.cloneElement(e,{onClick:this.handleClick})),e}},{key:"params",get:function(){var e=this.props,t=e.bloggerAmebaId,i=e.categoryId,n=e.contentId,a=e.displayPosition,s=e.pageId,r=e.entryId,o=e.orderId,c=e.sectionId,d=e.serviceId,l=e.tagName;return{bloggerAmebaId:t,categories:this.props.categories.filter(function(e){return""!==e}),categoryId:i,contentId:n,displayPosition:a,pageId:s,entryId:r,orderId:o,sectionId:c,serviceId:d,tagName:l}}}]),t}(l.a.PureComponent);f.displayName="Tracker",f.propTypes={activate:g.a.arrayOf(g.a.oneOf(["tap","view"])),bloggerAmebaId:g.a.string,categories:g.a.arrayOf(g.a.string),categoryId:g.a.string,children:g.a.node,contentId:g.a.string,disable:g.a.bool,displayPosition:g.a.string,entryId:g.a.string,orderId:g.a.string,pageId:g.a.string,sectionId:g.a.string,serviceId:g.a.string,tagName:g.a.string,tapLogger:g.a.func,viewLogger:g.a.func}}}]);
//# sourceMappingURL=1.js.map